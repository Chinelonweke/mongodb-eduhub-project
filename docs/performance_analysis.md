# Performance Analysis

## Task 4.1: Complex Queries

### Courses with price between $50 and $200


| Course ID     | Title                                          | Price     |
| ------------- | ---------------------------------------------- | --------: |
| C001          | Practical MongoDB for Application Developers   |     $100 |
| C002          | Kubernetes Essentials for Modern Developers    |     $100 |
| C004          | Kubernetes Essentials for Modern Developers    |     $150 |
| C005          | Creating RESTful APIs with FastAPI             |     $150 |
| C006          | Image Processing & Computer Vision with OpenCV |     $200 |
| C701          | Using Git and GitHub for Team Collaboration    |     $150 |


### There are six courses that fall within the price range of $50 to $200. Two of these courses are priced at $100; Practical MongoDB for Application Developers and Kubernetes Essentials for Modern Developers. Three courses are priced at $150, including Kubernetes Essentials for Modern Developers (appearing again with a different course ID), Creating RESTful APIs with FastAPI, and Using Git and GitHub for Team Collaboration. The highest-priced course in this group is Image Processing & Computer Vision with OpenCV, which costs $200.


### Users who joined in the last 6 months

|   User ID   |   First Name   |    Last Name  |  Date Joined    |
| ----------- | -------------- | ------------- | --------------- |
| U002        | Tonya          | Fleming       | 2025-02-06      |
| U004        | Timothy        | Campbell      | 2025-05-25      |
| U008        | Christopher    | Davis         | 2025-04-06      |
| U009        | Michael        | Anderson      | 2025-02-26      |
| U013        | Andrea         | Simmons       | 2025-04-03      |
| U014        | Erin           | Larson        | 2025-04-07      |
| U018        | Anthony        | Horne         | 2025-03-08      |
| U020        | Peter          | Smith         | 2025-03-13      |
| U350        | Chinelo        | Nweke         | 2025-06-12      |


### Nine users joined within the last six months, with join dates spread across February to June 2025. This indicates steady and consistent user registration over time.
 

### Courses with selected tags

| Course ID     |           Title                                | Tags                                                      |
| ------------- | ---------------------------------------------- | --------------------------------------------------------- |
| C001          | Practical MongoDB for Application Developers   | career-ready, community-support, industry-aligned         |
| C005          | Creating RESTful APIs with FastAPI             | career-ready, guided-video-series, downloadable-resources |
| C007          | Visualizing Data Insights Using Seaborn        | built-in-quizzes, career-ready, beginner-friendly         |
| C008          | Version Control & Teamwork with Git and GitHub | career-ready, built-in-quizzes, career-guidance           |
| C701          | Using Git and GitHub for Team Collaboration    | project-based, career-ready, interactive                  |
           

### Assignments with due dates in the next week
| Assignment ID | Title                                                 | Due Date   |
| ------------- | ----------------------------------------------------- | ---------- |
| A008          | Assignment 8: Visualizing Data Insights Using Seaborn | 2025-06-16 |
| A001          | Assignment 1: Foundations of AWS Cloud Services       | 2025-06-19 |

### There are two upcoming assignments, both due in June 2025.


## Task 4.2: Aggregation Pipeline

# 1. Course Enrollment Statistics:

### Total enrollments per course

| Course ID | Total Enrollments |
| --------- | ----------------- |
| C004      | 3                 |
| C001      | 3                 |
| C007      | 2                 |
| C006      | 2                 |
| C005      | 1                 |
| C002      | 1                 |
| C003      | 1                 |
| C701      | 1                 |
| C008      | 1                 |

### The enrollment data shows that courses C004 and C001 have the highest participation, each with 3 enrollments. While other courses have 1 or 2 enrollments.

### Average course rating

| Course ID | Title                                          | Average Rating |
| --------- | ---------------------------------------------- | -------------- |
| C001      | Practical MongoDB for Application Developers   | Not Available  |
| C002      | Kubernetes Essentials for Modern Developers    | Not Available  |
| C003      | Kubernetes Essentials for Modern Developers    | Not Available  |
| C004      | Kubernetes Essentials for Modern Developers    | Not Available  |
| C005      | Creating RESTful APIs with FastAPI             | Not Available  |
| C006      | Image Processing & Computer Vision with OpenCV | Not Available  |
| C007      | Visualizing Data Insights Using Seaborn        | Not Available  |
| C008      | Version Control & Teamwork with Git and GitHub | Not Available  |
| C701      | Using Git and GitHub for Team Collaboration    | Not Available  |

### Ratings not available

### Course by Category

| Category         | Total Courses |
| ---------------- | ------------- |
| Data Engineering | 4             |
| AI               | 2             |
| Machine Learning | 1             |
| Web Development  | 1             |
| DevOps           | 1             |

### The Data Engineering category has the most courses with 4, followed by AI with 2, while Machine Learning, Web Development, and DevOps each have 1 course.

# 2. Student Performance Analysis

### Average grade per student

| Student ID | Average Grade |
| ---------- | ------------- |
| U005       | 90.0          |
| U020       | 90.0          |
| U012       | Not Available |
| U004       | Not Available |
| U017       | Not Available |
| U007       | Not Available |
| U006       | Not Available |
| U008       | Not Available |
| U016       | Not Available |
| U014       | Not Available |
### Two students have an average grade of 90.0, while the rest have no available grade data.

### Completion rate by courses (Data not available)

### Top performing Students (Top 5)

| Student ID | Average Grade | Total Submissions |
| ---------- | ------------- | ----------------- |
| U005       | 90.0          | 1                 |
| U020       | 90.0          | 1                 |
| U004       | Not Available | 2                 |
| U007       | Not Available | 1                 |
| U012       | Not Available | 2                 |

# 3. Instructor Analysis

### Total Students taught by Instructors
| instructor_id | total_students |
| -------------- | --------------- |
| U009           | 1               |
| U001           | 1               |
| U013           | 3               |
| U015           | 2               |
| U011           | 2               |
| U010           | 5               |

### Instructor U010 has taught the most students (5), followed by U013 with 3 students, while others have taught between 1 and 2 students each.


### Average rating per Instructor

| Instructor ID | Average Rating |
| ------------- | -------------- |
| U010          | Not Available  |
| U013          | Not Available  |
| U001          | Not Available  |
| U009          | Not Available  |
| U011          | Not Available  |
| U015          | Not Available  |

### Data not available

### Revenue generated per Instructors

| instructor_id | total_revenue |
| -------------- | -------------- |
| U010           | 700.0          |
| U013           | 550.0          |
| U015           | 250.0          |
| U001           | 150.0          |
| U009           | 150.0          |
| U011           | 0.0            |

### Instructor U010 has generated the highest revenue at \$700, followed by U013 with \$550, while U011 generated no revenue.


# 4. Advanced Analytics

### Monthly enrollment trends
| Year-Month | Total Enrollments |
| ---------- | ----------------- |
| None-None  | 15                |

### The enrollment data shows a total of 15 enrollments, but the year and month information is not available.

### Most popular course categories
| Category         | Total Enrollments |
| ---------------- | ----------------- |
| Data Engineering | 7                 |
| AI               | 4                 |
| Web Development  | 2                 |
| DevOps           | 1                 |
| Machine Learning | 1                 |

### Data Engineering has the highest number of enrollments at 7, with AI next at 4, and Web Development, DevOps, and Machine Learning having fewer enrollments.

### Student engagement metrics
| user_id | courses_enrolled | assignments_submitted |
| -------- | ----------------- | ---------------------- |
| U350     | 1                 | 0                      |
| U020     | 1                 | 1                      |
| U007     | 2                 | 1                      |
| U018     | 3                 | 0                      |
| U017     | 2                 | 1                      |
| U012     | 3                 | 2                      |
| U006     | 2                 | 1                      |
| U016     | 1                 | 1                      |
| U008     | 0                 | 1                      |
| U004     | 0                 | 2                      |
| U005     | 0                 | 1                      |
| U014     | 0                 | 1                      |

### Some students have enrolled in multiple courses but submitted fewer assignments, while others have submitted assignments despite not being enrolled in any courses.

## Summary: Query Optimization & Execution Stats
| Metric                   | Details                                                                |
| ---------------------------- | -------------------------------------------------------------------------- |
| Execution Time           | `0 ms` – Query executed very quickly.                                      |
| Total Documents Examined | `2` – MongoDB only scanned 2 documents to find the result.                 |
| Index Used               | `title_1_category_1` – A compound index on `title` and `category` fields.  |
| Query Type               | `Regex search` on title + `Equality match` on category.                    |
| Winning Plan             | `IXSCAN` (Index Scan) → `FETCH` – Efficient use of index to retrieve docs. |
| Index Efficiency         | High – Query used the appropriate compound index and avoided full scan.    |

## Key Takeaways
Efficient Query: The index on title and category was effectively used, avoiding a collection scan.
Low Document Scan Count: Only 2 documents examined means minimal resource usage.
Fast Execution: With 0 ms runtime, this is a highly optimized query.
Regex Support in Index: The query used a case-insensitive regex on the title field, which was still index-supported thanks to the regex's nature and index ordering.


## Summary: Query Optimization on enrollments Collection
| Metric               | Details                                                 |
| ------------------------ | ----------------------------------------------------------- |
| Query Target         | `enrollments` collection                                    |
| Query Condition      | `student_id = "U004"`                                       |
| Execution Plan       | Index Scan (`IXSCAN`) followed by Fetch (`FETCH`)   |
| Index Used           | `student_id_1`                                              |
| Index Bounds         | `["U004", "U004"]` – Narrow scan using equality match       |
| Documents Examined   | Not shown, but very likely minimal due to index use     |
| Query Execution Time | Fast (exact time not specified, but near-instant)           |
| Optimization Flags   | All optimization limits (`maxScansToExplode`, etc.) avoided |



## Key Points
Efficient Index Use: The query used the student_id_1 index to quickly locate matching enrollment documents.
Precise Bounds: The bounds show that it searched exactly for "U004" with no range or full scan.
Minimal Cost: Since student_id is likely a low-cardinality field and the query is exact-match, MongoDB didn't need to scan many documents.

## Reference:
Optimization implementation can be found in the eduhub_mongodb_project.ipynb, under Task 5.
